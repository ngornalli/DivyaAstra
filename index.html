<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divya Astra - Celestial Weapon Battle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600;800&family=Tiro+Devanagari+Hindi&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617; /* Slate 950 */
            color: #e2e8f0;
            overflow: hidden;
        }

        h1, h2, h3, .font-serif {
            font-family: 'Cinzel', serif;
        }

        .font-hindi {
            font-family: 'Tiro Devanagari Hindi', serif;
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #0f172a;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Animations */
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .zoom-in { animation: zoomIn 0.3s ease-out forwards; }
        @keyframes zoomIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Glassmorphism */
        .glass {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .blast-particle {
            position: absolute;
            border-radius: 50%;
            animation: blast 1s ease-out forwards;
        }

        @keyframes blast {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
        }

        /* Circular Progress (Donut) */
        .circular-chart {
            display: block;
            margin: 0 auto;
            max-width: 100%;
            max-height: 250px;
        }
        .circle-bg {
            fill: none;
            stroke: #1e293b;
            stroke-width: 2.5;
        }
        .circle {
            fill: none;
            stroke-width: 2.5;
            stroke-linecap: round;
            animation: progress 1s ease-out forwards;
            transform-origin: center;
            transform: rotate(-90deg);
        }
        @keyframes progress {
            0% { stroke-dasharray: 0 100; }
        }
        
        /* Stat Bar Animation */
        .stat-fill {
            width: 0;
            animation: fillBar 1s ease-out forwards;
        }
        @keyframes fillBar {
            to { width: var(--w); }
        }
        
        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(-5%); }
            50% { transform: translateY(0); }
        }
        .animate-bounce-gentle {
            animation: bounce-gentle 2s infinite;
        }
    </style>
</head>
<body class="flex flex-col h-screen text-slate-200 selection:bg-amber-500 selection:text-white">

    <!-- Background -->
    <div class="fixed inset-0 pointer-events-none opacity-40 z-0">
        <div class="absolute w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] animate-pulse"></div>
    </div>

    <!-- Navbar -->
    <header class="h-16 border-b border-slate-800 flex items-center justify-between px-4 bg-slate-900/80 backdrop-blur-md z-50 sticky top-0">
        <div class="flex items-center gap-2">
            <div class="bg-gradient-to-br from-amber-400 to-orange-600 p-1.5 rounded-lg rotate-45 shadow-lg shadow-amber-500/20">
                <i data-lucide="swords" class="text-white -rotate-45 w-5 h-5"></i>
            </div>
            <h1 id="app-title" class="hidden md:block text-lg font-bold tracking-wider font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-amber-500">
                DIVYA ASTRA
            </h1>
        </div>
        
        <div class="flex items-center gap-2 md:gap-4">
            <div id="turn-indicator" class="text-xs text-slate-500 font-mono hidden lg:block"></div>

            <button id="rules-btn" class="p-2 rounded-full text-slate-500 hover:text-slate-300 hover:bg-slate-800 transition-all" title="Instructions">
                <i data-lucide="book-open" class="w-5 h-5"></i>
            </button>

            <button id="ranking-btn" class="p-2 rounded-full text-slate-500 hover:text-indigo-400 hover:bg-slate-800 transition-all" title="Ranking">
                <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
            </button>

            <!-- Volume Controls -->
            <div class="flex items-center bg-slate-800/50 rounded-full px-2 border border-slate-700/50">
                <button onclick="changeVolume(-0.1)" class="p-2 text-slate-400 hover:text-white transition-colors" title="Volume Down">
                    <i data-lucide="volume-1" class="w-4 h-4"></i>
                </button>
                <button id="sound-btn" class="p-2 text-slate-500 hover:text-amber-400 transition-colors mx-1" title="Toggle Sound">
                    <i data-lucide="volume-x" class="w-5 h-5" id="sound-icon"></i>
                </button>
                <button onclick="changeVolume(0.1)" class="p-2 text-slate-400 hover:text-white transition-colors" title="Volume Up">
                    <i data-lucide="volume-2" class="w-4 h-4"></i>
                </button>
            </div>

            <div class="flex items-center gap-1 bg-slate-800 rounded-full px-2 py-1 border border-slate-700">
                <i data-lucide="globe" class="w-4 h-4 text-slate-400"></i>
                <select id="lang-select" class="bg-transparent border-none text-xs text-slate-300 focus:ring-0 cursor-pointer outline-none">
                    <option value="en">English</option>
                    <option value="hi">Hindi</option>
                    <option value="mr">Marathi</option>
                    <option value="sa">Sanskrit</option>
                </select>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="main-container" class="flex-1 relative overflow-y-auto p-4 z-10">
        <!-- Views will be injected here via JS -->
    </main>

    <!-- Modals Container -->
    <div id="modal-container" class="relative z-50"></div>

    <script>
        // --- CONSTANTS ---
        const STAT_COLORS = {
            destruction: "#ef4444", // Red
            precision: "#3b82f6",   // Blue
            range: "#22c55e",       // Green
            speed: "#eab308",       // Yellow
            durability: "#f97316",  // Orange
            mysticism: "#a855f7"    // Purple
        };

        const BATTLE_MUSIC_URL = "https://cdn.pixabay.com/download/audio/2025/10/27/audio_4c5bfd53ba.mp3?filename=epic-cinematic-battle-music-414662.mp3";

        // --- DATA ---
        /* const WEAPONS_DB = [
            { id: 1, name: "Sudarshana Chakra", name_hi: "‡§∏‡•Å‡§¶‡§∞‡•ç‡§∂‡§® ‡§ö‡§ï‡•ç‡§∞", deity: "Vishnu", color: "#0ea5e9", desc: "The ultimate spinning disc.", history: "Used by Krishna to behead Shishupala.", specialty: "Inescapable", weaknesses: ["Cannot act against its creator", "Requires total dharma"], stats: { destruction: 99, precision: 100, range: 95, mysticism: 98, speed: 100, durability: 100 } },
            { id: 2, name: "Brahmastra", name_hi: "‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Brahma", color: "#f59e0b", desc: "A weapon of mass destruction.", history: "Invoked by Ashwatthama vs Pandavas.", specialty: "Nuclear Impact", weaknesses: ["Can be countered by another Brahmastra", "Single use per lifetime (usually)"], stats: { destruction: 98, precision: 85, range: 95, mysticism: 92, speed: 88, durability: 90 } },
            { id: 3, name: "Trishula", name_hi: "‡§§‡•ç‡§∞‡§ø‡§∂‡•Ç‡§≤", deity: "Shiva", color: "#a855f7", desc: "The three-pronged spear.", history: "Severed Ganesha's original head.", specialty: "Nullification", weaknesses: ["Dependent on Shiva's will", "Can be pacified by prayer"], stats: { destruction: 97, precision: 85, range: 70, mysticism: 99, speed: 92, durability: 100 } },
            { id: 4, name: "Pashupatastra", name_hi: "‡§™‡§æ‡§∂‡•Å‡§™‡§§‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Shiva", color: "#6366f1", desc: "Destroys all beings.", history: "Given to Arjuna by Shiva.", specialty: "Cataclysm", weaknesses: ["Forbidden against mortals", "Destroys user if misused"], stats: { destruction: 100, precision: 90, range: 100, mysticism: 97, speed: 95, durability: 95 } },
            { id: 5, name: "Vajra", name_hi: "‡§µ‡§ú‡•ç‡§∞", deity: "Indra", color: "#fbbf24", desc: "The thunderbolt.", history: "Slayed the demon Vritra.", specialty: "Indestructible", weaknesses: ["Foam of the sea (Namuchi)", "Requires Sage's bones"], stats: { destruction: 88, precision: 75, range: 60, mysticism: 85, speed: 96, durability: 99 } },
            { id: 6, name: "Gandiva", name_hi: "‡§ó‡§æ‡§Ç‡§°‡•Ä‡§µ", deity: "Arjuna", color: "#dbeafe", desc: "Celestial bow.", history: "Used in Kurukshetra.", specialty: "Inexhaustible", weaknesses: ["Heavy recoil", "Needs immense strength"], stats: { destruction: 85, precision: 98, range: 92, mysticism: 80, speed: 94, durability: 95 } },
            { id: 7, name: "Kaumodaki", name_hi: "‡§ï‡•å‡§Æ‡•ã‡§¶‡§ï‡•Ä", deity: "Vishnu", color: "#14b8a6", desc: "Divine mace.", history: "Used to slay Dantavakra.", specialty: "Shockwave", weaknesses: ["Close range only", "Heavy weight"], stats: { destruction: 92, precision: 65, range: 40, mysticism: 88, speed: 60, durability: 98 } },
            { id: 8, name: "Narayanastra", name_hi: "‡§®‡§æ‡§∞‡§æ‡§Ø‡§£‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vishnu", color: "#3b82f6", desc: "Millions of missiles.", history: "Used by Ashwatthama.", specialty: "Infinite Volley", weaknesses: ["Countered by submission", "One use per war"], stats: { destruction: 96, precision: 70, range: 98, mysticism: 94, speed: 85, durability: 85 } },
            { id: 9, name: "Brahmashirsha", name_hi: "‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§∂‡•Ä‡§∞‡•ç‡§∑", deity: "Brahma", color: "#ea580c", desc: "4x Brahmastra.", history: "Threatened the universe.", specialty: "Apocalyptic", weaknesses: ["Retraction is difficult", "Causes drought for 12 years"], stats: { destruction: 99, precision: 82, range: 93, mysticism: 96, speed: 90, durability: 90 } },
            { id: 10, name: "Vasavi Shakti", name_hi: "‡§µ‡§æ‡§∏‡§µ‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø", deity: "Karna", color: "#ef4444", desc: "One-shot dart.", history: "Killed Ghatotkacha.", specialty: "Certain Death", weaknesses: ["Single use only", "Returns to Indra after use"], stats: { destruction: 94, precision: 100, range: 85, mysticism: 85, speed: 98, durability: 50 } },
            // ... (Remaining 100 items procedurally generated below)
        ];
        
        for (let i = 11; i <= 100; i++) {
            if (!WEAPONS_DB.find(w => w.id === i)) {
                const hue = (i * 137.508) % 360;
                const prefixIdx = i % 8;
                const suffixIdx = i % 5;
                WEAPONS_DB.push({
                    id: i,
                    name: `${["Iron", "Golden", "Silver", "Bronze", "Obsidian", "Emerald", "Ruby", "Sapphire"][prefixIdx]} ${["Arrow", "Mace", "Sword", "Spear", "Discus"][suffixIdx]}`,
                    name_hi: "‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞",
                    deity: ["Soldier", "General", "King", "Guard", "Demon"][i % 5],
                    color: `hsl(${hue}, 70%, 60%)`,
                    desc: "A standard but deadly weapon of war.",
                    history: "Used in the great cosmic wars.",
                    specialty: "Reliable",
                    weaknesses: ["Mortal craftsmanship", "Breaks under stress"],
                    stats: { 
                        destruction: 30 + (i % 60), precision: 40 + (i % 50), range: 20 + (i % 70), 
                        speed: 30 + (i % 60), durability: 40 + (i % 50), mysticism: 10 + (i % 80) 
                    }
                });
            }
        } */

        const WEAPONS_DB = [
                { id: 1, name: "Sudarshana Chakra", name_hi: "‡§∏‡•Å‡§¶‡§∞‡•ç‡§∂‡§® ‡§ö‡§ï‡•ç‡§∞", deity: "Vishnu", color: "#0ea5e9", desc: "The spinning disc of cosmic order.", history: "Used by Krishna to destroy Shishupala.", specialty: "Inescapable homing", weaknesses: ["Cannot act against its creator"], stats: { destruction: 99, precision: 100, range: 95, mysticism: 98, speed: 100, durability: 100 } },
                { id: 2, name: "Brahmastra", name_hi: "‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Brahma", color: "#f59e0b", desc: "A weapon of mass destruction.", history: "Used by Ashwatthama and Arjuna.", specialty: "Nuclear-level devastation", weaknesses: ["Can be countered only by another Brahmastra"], stats: { destruction: 98, precision: 85, range: 95, mysticism: 92, speed: 88, durability: 90 } },

                { id: 3, name: "Trishula", name_hi: "‡§§‡•ç‡§∞‡§ø‡§∂‡•Ç‡§≤", deity: "Shiva", color: "#64748b", desc: "Shiva‚Äôs trident representing creation, preservation, and destruction.", history: "Used against Tripurasura.", specialty: "Absolute penetration", weaknesses: ["None known"], stats: { destruction: 97, precision: 96, range: 80, mysticism: 99, speed: 85, durability: 100 } },
                { id: 4, name: "Pashupatastra", name_hi: "‡§™‡§æ‡§∂‡•Å‡§™‡§§‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Shiva", color: "#1e293b", desc: "The most destructive weapon of Shiva.", history: "Granted to Arjuna after penance.", specialty: "Unstoppable divine force", weaknesses: ["Can destroy creation if misused"], stats: { destruction: 100, precision: 92, range: 100, mysticism: 100, speed: 90, durability: 100 } },
                { id: 5, name: "Vajra", name_hi: "‡§µ‡§ú‡•ç‡§∞", deity: "Indra", color: "#facc15", desc: "Indra‚Äôs thunderbolt.", history: "Forged from Sage Dadhichi‚Äôs bones.", specialty: "Lightning strike", weaknesses: ["Cannot harm Shiva-protected beings"], stats: { destruction: 95, precision: 94, range: 85, mysticism: 88, speed: 97, durability: 95 } },
                { id: 6, name: "Nandaka Sword", name_hi: "‡§®‡§®‡•ç‡§¶‡§ï", deity: "Vishnu", color: "#0ea5e9", desc: "Sword representing knowledge and truth.", history: "Used to destroy ignorance.", specialty: "Cuts illusions", weaknesses: ["Requires spiritual discipline"], stats: { destruction: 90, precision: 95, range: 60, mysticism: 93, speed: 90, durability: 92 } },
                { id: 7, name: "Sharanga Bow", name_hi: "‡§∂‡§æ‡§∞‡§Ç‡§ó", deity: "Vishnu", color: "#38bdf8", desc: "Krishna‚Äôs celestial bow.", history: "Used in Mahabharata.", specialty: "Divine archery", weaknesses: ["Requires Vishnu‚Äôs energy"], stats: { destruction: 92, precision: 98, range: 100, mysticism: 90, speed: 89, durability: 95 } },
                { id: 8, name: "Pinaka", name_hi: "‡§™‡§ø‡§®‡§æ‡§ï", deity: "Shiva", color: "#1e3a8a", desc: "Shiva‚Äôs great bow.", history: "Destroyed Tripura.", specialty: "Cosmic arrows", weaknesses: ["Unusable by mortals"], stats: { destruction: 96, precision: 94, range: 100, mysticism: 99, speed: 88, durability: 98 } },
                { id: 9, name: "Agneyastra", name_hi: "‡§Ö‡§ó‡•ç‡§®‡•á‡§Ø‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Agni", color: "#dc2626", desc: "Creates an unquenchable fire.", history: "Used in both epics.", specialty: "Devouring flames", weaknesses: ["Countered by Varunastra"], stats: { destruction: 93, precision: 90, range: 85, mysticism: 80, speed: 92, durability: 85 } },
                { id: 10, name: "Varunastra", name_hi: "‡§µ‡§∞‡•Å‡§£‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Varuna", color: "#2563eb", desc: "Water weapon.", history: "Stops fire weapons.", specialty: "Flood creation", weaknesses: ["Weak against wind-based weapons"], stats: { destruction: 85, precision: 90, range: 88, mysticism: 82, speed: 88, durability: 87 } },

                // FULL LIST FROM 11 TO 100

                { id: 11, name: "Vayavastra", name_hi: "‡§µ‡§æ‡§Ø‡§µ‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vayu", color: "#93c5fd", desc: "Weapon of wind.", history: "Used to create storms.", specialty: "Cyclone strike", weaknesses: ["Blocked by mountains"], stats: { destruction: 89, precision: 87, range: 90, mysticism: 75, speed: 96, durability: 80 } },
                { id: 12, name: "Parjanyastra", name_hi: "‡§™‡§∞‡•ç‡§ú‡§®‡•ç‡§Ø‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Indra", color: "#60a5fa", desc: "Creates torrential rains.", history: "Used by ancient rishis.", specialty: "Thunder-rain combo", weaknesses: ["Weak in dry climates"], stats: { destruction: 88, precision: 85, range: 90, mysticism: 78, speed: 90, durability: 82 } },
                { id: 13, name: "Bhargavastra", name_hi: "‡§≠‡§æ‡§∞‡•ç‡§ó‡§µ‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Parashurama", color: "#ef4444", desc: "Weapon of Parashurama.", history: "Used in Kshatriya extermination.", specialty: "Unmatched destruction", weaknesses: ["Requires Brahmin purity"], stats: { destruction: 94, precision: 90, range: 80, mysticism: 90, speed: 85, durability: 92 } },
                { id: 14, name: "Narayanastra", name_hi: "‡§®‡§æ‡§∞‡§æ‡§Ø‡§£‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vishnu", color: "#0284c7", desc: "Multiplies with resistance.", history: "Used by Ashwatthama.", specialty: "Infinite homing fire", weaknesses: ["Must surrender"], stats: { destruction: 100, precision: 98, range: 100, mysticism: 100, speed: 95, durability: 95 } },
                { id: 15, name: "Vaishnavastra", name_hi: "‡§µ‡•à‡§∑‡•ç‡§£‡§µ‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vishnu", color: "#0c4a6e", desc: "Anti-asura weapon.", history: "Used by many avatars.", specialty: "Destroys demonic beings", weaknesses: ["Cannot harm devotees"], stats: { destruction: 96, precision: 97, range: 98, mysticism: 99, speed: 92, durability: 94 } },
                { id: 16, name: "Brahmashira Astra", name_hi: "‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§∂‡§ø‡§∞‡§æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Brahma", color: "#fbbf24", desc: "Fourfold Brahma weapon.", history: "Clashed between Arjuna and Ashwatthama.", specialty: "Ends lineage", weaknesses: ["Catastrophic impact"], stats: { destruction: 100, precision: 90, range: 100, mysticism: 98, speed: 90, durability: 93 } },
                { id: 17, name: "Garudastra", name_hi: "‡§ó‡§∞‡•Å‡§°‡§º‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Garuda", color: "#f87171", desc: "Destroys serpents.", history: "Used in Naga battles.", specialty: "Anti-serpent storm", weaknesses: ["Ineffective on humans"], stats: { destruction: 85, precision: 88, range: 80, mysticism: 86, speed: 93, durability: 85 } },
                { id: 18, name: "Nagastra", name_hi: "‡§®‡§æ‡§ó‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Naga", color: "#16a34a", desc: "Summons venomous serpents.", history: "Used in Kurukshetra.", specialty: "Poison strike", weaknesses: ["Countered by Garuda"], stats: { destruction: 83, precision: 87, range: 75, mysticism: 80, speed: 85, durability: 82 } },
                { id: 19, name: "Shakti", name_hi: "‡§∂‡§ï‡•ç‡§§‡§ø", deity: "Durga", color: "#be123c", desc: "Spear of divine feminine energy.", history: "Given to Kartikeya.", specialty: "Piercing force", weaknesses: ["Requires divine wielder"], stats: { destruction: 92, precision: 95, range: 70, mysticism: 92, speed: 88, durability: 90 } },

                // NOW ADDING ALL WEAPONS 20‚Äì100 (TRUE, NO SHORTCUTS)

                { id: 20, name: "Anjalika Astra", name_hi: "‡§Ö‡§Ç‡§ú‡§≤‡§ø‡§ï‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Indra", color: "#d97706", desc: "Arrow that guarantees death.", history: "Used by Arjuna to kill Karna.", specialty: "Fatal precision", weaknesses: ["Cannot be reused"], stats: { destruction: 96, precision: 100, range: 90, mysticism: 90, speed: 95, durability: 80 } },
                { id: 21, name: "Tvashtra Astra", name_hi: "‡§§‡•ç‡§µ‡§∑‡•ç‡§ü‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Tvashta", color: "#f97316", desc: "Weapon of divine craftsmanship.", history: "Created using cosmic metals.", specialty: "Shape-shifting", weaknesses: ["Rarely granted"], stats: { destruction: 88, precision: 85, range: 80, mysticism: 92, speed: 85, durability: 95 } },
                { id: 22, name: "Sammohana Astra", name_hi: "‡§∏‡§Æ‡•ç‡§Æ‡•ã‡§π‡§® ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Various", color: "#4b5563", desc: "Induces unconsciousness.", history: "Used in multiple battles.", specialty: "Mind paralysis", weaknesses: ["Countered by clarity mantras"], stats: { destruction: 40, precision: 95, range: 90, mysticism: 98, speed: 92, durability: 70 } },
                { id: 23, name: "Mohanastra", name_hi: "‡§Æ‡•ã‡§π‡§®‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Varuna", color: "#0ea5e9", desc: "Weapon that creates illusions.", history: "Used against armies.", specialty: "Mass illusion", weaknesses: ["Broken by true-sight"], stats: { destruction: 30, precision: 80, range: 85, mysticism: 95, speed: 88, durability: 70 } },
                { id: 24, name: "Gandiva Bow", name_hi: "‡§ó‡§æ‡§£‡•ç‡§°‡•Ä‡§µ", deity: "Agni", color: "#b91c1c", desc: "Arjuna‚Äôs divine bow.", history: "Gifted by Agni.", specialty: "Unlimited arrows", weaknesses: ["Needs immense strength"], stats: { destruction: 90, precision: 100, range: 100, mysticism: 85, speed: 95, durability: 95 } },
                { id: 25, name: "Kodanda Bow", name_hi: "‡§ï‡•ã‡§¶‡§£‡•ç‡§°", deity: "Rama", color: "#7c2d12", desc: "Bow of Lord Rama.", history: "Used against Ravana.", specialty: "Perfect aim", weaknesses: ["Only Rama can wield fully"], stats: { destruction: 92, precision: 100, range: 100, mysticism: 90, speed: 94, durability: 95 } },

                // Continue through 26‚Äì100 ‚Äî FULL LIST PROVIDED

                { id: 26, name: "Sarpasana Arrow", name_hi: "‡§∏‡§∞‡•ç‡§™‡§∏‡§®‡§æ ‡§¨‡§æ‡§£", deity: "Nagas", color: "#15803d", desc: "Arrow that transforms into serpents.", specialty: "Poison strike", weaknesses: ["Garuda energy"], stats: { destruction: 80, precision: 85, range: 75, mysticism: 70, speed: 78, durability: 80 } },
                { id: 27, name: "Shoola Astra", name_hi: "‡§∂‡•Ç‡§≤ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Shiva", color: "#1f2937", desc: "Divine spear strike.", specialty: "Piercing destruction", weaknesses: ["Needs Shiva‚Äôs blessing"], stats: { destruction: 95, precision: 90, range: 70, mysticism: 93, speed: 85, durability: 92 } },
                { id: 28, name: "Vishnu Dhanu", name_hi: "‡§µ‡§ø‡§∑‡•ç‡§£‡•Å ‡§ß‡§®‡•Å", deity: "Vishnu", color: "#1e40af", desc: "Bow of cosmic force.", specialty: "Light arrows", weaknesses: ["Used rarely"], stats: { destruction: 90, precision: 98, range: 100, mysticism: 95, speed: 92, durability: 90 } },
                { id: 29, name: "Rudra Astra", name_hi: "‡§∞‡•Å‡§¶‡•ç‡§∞‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rudra", color: "#7f1d1d", desc: "Storm of destruction.", specialty: "Massive damage", weaknesses: ["Overwhelms wielder"], stats: { destruction: 97, precision: 90, range: 95, mysticism: 96, speed: 88, durability: 95 } },
                { id: 30, name: "Rudra Bow", name_hi: "‡§∞‡•Å‡§¶‡•ç‡§∞ ‡§ß‡§®‡•Å‡§∑", deity: "Shiva", color: "#4a044e", desc: "Bow of fierce energy.", specialty: "Rage arrows", weaknesses: ["Requires ascetic focus"], stats: { destruction: 90, precision: 93, range: 95, mysticism: 90, speed: 85, durability: 92 } },

                { id: 31, name: "Vishalyakarani", name_hi: "‡§µ‡§ø‡§∂‡§≤‡•ç‡§Ø‡§ï‡§∞‡§£‡•Ä", deity: "Hanuman", color: "#dc2626", desc: "Herb-based healing weapon.", specialty: "Removes arrowheads", weaknesses: ["Not offensive"], stats: { destruction: 10, precision: 100, range: 20, mysticism: 95, speed: 90, durability: 50 } },
                { id: 32, name: "Sammohan Chakra", name_hi: "‡§∏‡§Æ‡•ç‡§Æ‡•ã‡§π‡§® ‡§ö‡§ï‡•ç‡§∞", deity: "Krishna", color: "#0284c7", desc: "Disc causing mass hypnosis.", specialty: "Mind control", weaknesses: ["Broken by strong will"], stats: { destruction: 20, precision: 90, range: 80, mysticism: 95, speed: 90, durability: 80 } },
                { id: 33, name: "Prajnastra", name_hi: "‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Brahma", color: "#fde047", desc: "Restores clarity of mind.", specialty: "Undo illusions", weaknesses: ["Not offensive"], stats: { destruction: 5, precision: 80, range: 40, mysticism: 90, speed: 80, durability: 50 } },
                { id: 34, name: "Tej Pramathan", name_hi: "‡§§‡•á‡§ú ‡§™‡•ç‡§∞‡•ç‡§Æ‡§•‡§®", deity: "Surya", color: "#fbbf24", desc: "Weapon of scorching light.", specialty: "Solar beam", weaknesses: ["Blocked by Varuna"], stats: { destruction: 90, precision: 88, range: 95, mysticism: 85, speed: 90, durability: 85 } },
                { id: 35, name: "Surya Astra", name_hi: "‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Surya", color: "#f97316", desc: "Weapon of blinding radiance.", specialty: "Solar flare", weaknesses: ["Weak at night"], stats: { destruction: 92, precision: 90, range: 95, mysticism: 88, speed: 90, durability: 85 } },

                { id: 36, name: "Chandra Astra", name_hi: "‡§ö‡§®‡•ç‡§¶‡•ç‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Chandra", color: "#60a5fa", desc: "Weapon of chilling moonlight.", specialty: "Mind calming", weaknesses: ["Low destruction"], stats: { destruction: 40, precision: 85, range: 80, mysticism: 90, speed: 70, durability: 80 } },
                { id: 37, name: "Twilight Astra", name_hi: "‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Sandhya Devi", color: "#4b5563", desc: "Weapon of dusk energy.", specialty: "Shadow veil", weaknesses: ["Weak in bright environments"], stats: { destruction: 50, precision: 80, range: 75, mysticism: 95, speed: 80, durability: 70 } },
                { id: 38, name: "Vakra Astra", name_hi: "‡§µ‡§ï‡•ç‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Ganesha", color: "#fb923c", desc: "Weapon that bends mid-flight.", specialty: "Curve strike", weaknesses: ["Predictable by experts"], stats: { destruction: 60, precision: 90, range: 80, mysticism: 85, speed: 85, durability: 80 } },
                { id: 39, name: "Gada of Bheema", name_hi: "‡§≠‡•Ä‡§Æ ‡§ó‡§¶‡§æ", deity: "Vayu-putra", color: "#6b7280", desc: "Mace of immense strength.", specialty: "Bone crushing", weaknesses: ["Close range only"], stats: { destruction: 95, precision: 75, range: 30, mysticism: 60, speed: 70, durability: 98 } },
                { id: 40, name: "Gada of Hanuman", name_hi: "‡§π‡§®‡•Å‡§Æ‡§æ‡§® ‡§ó‡§¶‡§æ", deity: "Hanuman", color: "#ea580c", desc: "Mace of limitless power.", specialty: "Mountain-shattering", weaknesses: ["Only for divine beings"], stats: { destruction: 100, precision: 80, range: 40, mysticism: 95, speed: 80, durability: 100 } },

                { id: 41, name: "Kaumodaki Gada", name_hi: "‡§ï‡•å‡§Æ‡•Å‡§¶‡§ï‡•Ä ‡§ó‡§¶‡§æ", deity: "Vishnu", color: "#2563eb", desc: "Vishnu‚Äôs mace.", specialty: "Crushing force", weaknesses: ["Requires Vishnu‚Äôs strength"], stats: { destruction: 95, precision: 90, range: 40, mysticism: 90, speed: 80, durability: 100 } },
                { id: 42, name: "Shani Astra", name_hi: "‡§∂‡§®‡§ø ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Shani", color: "#1e293b", desc: "Weapon of karmic punishment.", specialty: "Weakens enemies", weaknesses: ["Slow acting"], stats: { destruction: 50, precision: 80, range: 60, mysticism: 98, speed: 60, durability: 90 } },
                { id: 43, name: "Yama Danda", name_hi: "‡§Ø‡§Æ ‡§¶‡§£‡•ç‡§°", deity: "Yama", color: "#450a0a", desc: "Rod of death.", specialty: "Instant fatality", weaknesses: ["Only works on mortals"], stats: { destruction: 100, precision: 85, range: 50, mysticism: 95, speed: 80, durability: 90 } },
                { id: 44, name: "Kaal Astra", name_hi: "‡§ï‡§æ‡§≤ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Kalabhairava", color: "#0f172a", desc: "Weapon of time.", specialty: "Aging strike", weaknesses: ["Ineffective on immortals"], stats: { destruction: 85, precision: 80, range: 60, mysticism: 100, speed: 70, durability: 90 } },
                { id: 45, name: "Maya Astra", name_hi: "‡§Æ‡§æ‡§Ø‡§æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Maya", color: "#7e22ce", desc: "Weapon of illusions.", specialty: "Creates fake armies", weaknesses: ["Countered by truth-mantra"], stats: { destruction: 20, precision: 75, range: 90, mysticism: 95, speed: 85, durability: 75 } },

                { id: 46, name: "Dandastra", name_hi: "‡§¶‡§£‡•ç‡§°‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Brahma", color: "#facc15", desc: "Punishment weapon.", specialty: "Stuns armies", weaknesses: ["Temporary effect"], stats: { destruction: 40, precision: 80, range: 80, mysticism: 85, speed: 85, durability: 70 } },
                { id: 47, name: "Kuber Astra", name_hi: "‡§ï‡•Å‡§¨‡•á‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Kubera", color: "#65a30d", desc: "Weapon of wealth energy.", specialty: "Drains resources", weaknesses: ["Not lethal"], stats: { destruction: 30, precision: 85, range: 60, mysticism: 90, speed: 80, durability: 70 } },
                { id: 48, name: "Naag Pasha", name_hi: "‡§®‡§æ‡§ó ‡§™‡§æ‡§∂", deity: "Naga", color: "#4d7c0f", desc: "Serpent noose.", specialty: "Binding attack", weaknesses: ["Garuda‚Äôs presence"], stats: { destruction: 35, precision: 90, range: 60, mysticism: 80, speed: 75, durability: 70 } },
                { id: 49, name: "Vish Pasha", name_hi: "‡§µ‡§ø‡§∑ ‡§™‡§æ‡§∂", deity: "Naga", color: "#166534", desc: "Poison noose.", specialty: "Toxic bind", weaknesses: ["Divine antidotes"], stats: { destruction: 50, precision: 85, range: 60, mysticism: 80, speed: 78, durability: 75 } },
                { id: 50, name: "Jvarastra", name_hi: "‡§ú‡•ç‡§µ‡§∞‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rudra", color: "#b91c1c", desc: "Induces fever.", specialty: "Weakens enemy forces", weaknesses: ["Slow effect"], stats: { destruction: 20, precision: 80, range: 50, mysticism: 85, speed: 70, durability: 70 } },

                // 51‚Äì100 CONTINUE

                { id: 51, name: "Ravana Shoola", name_hi: "‡§∞‡§æ‡§µ‡§£ ‡§∂‡•Ç‡§≤", deity: "Shiva-blessed", color: "#991b1b", desc: "Ravana‚Äôs spear.", specialty: "Rage strike", weaknesses: ["Countered by Rama"], stats: { destruction: 95, precision: 90, range: 70, mysticism: 90, speed: 85, durability: 95 } },
                { id: 52, name: "Indrastra", name_hi: "‡§á‡§®‡•ç‡§¶‡•ç‡§∞‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Indra", color: "#fbbf24", desc: "Arrow of lightning.", specialty: "Thunderbolt energy", weaknesses: ["Countered by Vajra"], stats: { destruction: 94, precision: 90, range: 95, mysticism: 88, speed: 92, durability: 90 } },
                { id: 53, name: "Shankh Astra", name_hi: "‡§∂‡§Ç‡§ñ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vishnu", color: "#cbd5e1", desc: "Conch-based weapon.", specialty: "Sound waves", weaknesses: ["Blocked by silence spells"], stats: { destruction: 50, precision: 80, range: 70, mysticism: 90, speed: 80, durability: 85 } },
                { id: 54, name: "Ramastra", name_hi: "‡§∞‡§æ‡§Æ‡§æ‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rama", color: "#7c2d12", desc: "Weapon of Lord Rama.", specialty: "Unerring aim", weaknesses: ["Used rarely"], stats: { destruction: 98, precision: 100, range: 100, mysticism: 95, speed: 90, durability: 95 } },
                { id: 55, name: "Lakshmana Astra", name_hi: "‡§≤‡§ï‡•ç‡§∑‡•ç‡§Æ‡§£ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Lakshmana", color: "#fb923c", desc: "Weapon of Lakshmana.", specialty: "Focused strike", weaknesses: ["Lower area damage"], stats: { destruction: 80, precision: 95, range: 90, mysticism: 85, speed: 88, durability: 85 } },

                { id: 56, name: "Sita Astra", name_hi: "‡§∏‡•Ä‡§§‡§æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Sita", color: "#f9a8d4", desc: "Weapon of purity.", specialty: "Purifies surroundings", weaknesses: ["Non-lethal"], stats: { destruction: 10, precision: 80, range: 50, mysticism: 99, speed: 70, durability: 60 } },
                { id: 57, name: "Shesha Astra", name_hi: "‡§∂‡•á‡§∑ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Sheshnag", color: "#0f766e", desc: "Weapon of cosmic serpent.", specialty: "Reality distortion", weaknesses: ["Rarely invoked"], stats: { destruction: 95, precision: 90, range: 100, mysticism: 99, speed: 85, durability: 100 } },
                { id: 58, name: "Kaliya Venom", name_hi: "‡§ï‡§æ‡§≤‡§ø‡§Ø‡§æ ‡§µ‡§ø‡§∑", deity: "Naga", color: "#334155", desc: "Toxic energy.", specialty: "Corrosion", weaknesses: ["Krishna‚Äôs touch"], stats: { destruction: 75, precision: 70, range: 50, mysticism: 80, speed: 70, durability: 85 } },
                { id: 59, name: "Halahala Fire", name_hi: "‡§π‡§≤‡§æ‡§π‡§≤ ‡§Ö‡§ó‡•ç‡§®‡§ø", deity: "Shiva", color: "#450a0a", desc: "Weaponized poison flame.", specialty: "Multidimensional burn", weaknesses: ["Handled only by Shiva"], stats: { destruction: 100, precision: 80, range: 70, mysticism: 100, speed: 80, durability: 95 } },
                { id: 60, name: "Yogic Astra", name_hi: "‡§Ø‡•ã‡§ó‡§ø‡§ï ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rishis", color: "#6d28d9", desc: "Energy from deep meditation.", specialty: "Soul attack", weaknesses: ["Blocked by divine shields"], stats: { destruction: 85, precision: 90, range: 80, mysticism: 99, speed: 75, durability: 80 } },

                { id: 61, name: "Prana Astra", name_hi: "‡§™‡•ç‡§∞‡§æ‡§£ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Prana Dev", color: "#22c55e", desc: "Weapon that drains life force.", specialty: "Life absorption", weaknesses: ["Countered by healing mantras"], stats: { destruction: 85, precision: 90, range: 80, mysticism: 98, speed: 75, durability: 80 } },
                { id: 62, name: "Mantra Astra", name_hi: "‡§Æ‡§Ç‡§§‡•ç‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rishis", color: "#4f46e5", desc: "Weapon activated by mantras.", specialty: "Spellbound attack", weaknesses: ["Requires pure recitation"], stats: { destruction: 70, precision: 85, range: 75, mysticism: 95, speed: 85, durability: 85 } },
                { id: 63, name: "Garuda Shakti", name_hi: "‡§ó‡§∞‡•Å‡§°‡§º ‡§∂‡§ï‡•ç‡§§‡§ø", deity: "Garuda", color: "#f87171", desc: "Weapon of eagle force.", specialty: "Anti-serpent storm", weaknesses: ["Short duration"], stats: { destruction: 80, precision: 90, range: 80, mysticism: 85, speed: 90, durability: 85 } },
                { id: 64, name: "Kali Astra", name_hi: "‡§ï‡§æ‡§≤‡•Ä ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Kali", color: "#1e1b4b", desc: "Weapon of primal chaos.", specialty: "Fear manifestation", weaknesses: ["Unstable"], stats: { destruction: 98, precision: 80, range: 85, mysticism: 100, speed: 90, durability: 90 } },
                { id: 65, name: "Durga Astra", name_hi: "‡§¶‡•Å‡§∞‡•ç‡§ó‡§æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Durga", color: "#be123c", desc: "Weapon of feminine cosmic power.", specialty: "Multi-weapon assault", weaknesses: ["Needs divine invocation"], stats: { destruction: 97, precision: 95, range: 95, mysticism: 99, speed: 92, durability: 98 } },

                { id: 66, name: "Bhairava Astra", name_hi: "‡§≠‡•à‡§∞‡§µ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Bhairava", color: "#3f3f46", desc: "Weapon of terror.", specialty: "Soul rupture", weaknesses: ["Unpredictable"], stats: { destruction: 96, precision: 85, range: 80, mysticism: 98, speed: 85, durability: 90 } },
                { id: 67, name: "Lanka Vijaya Astra", name_hi: "‡§≤‡§Ç‡§ï‡§æ ‡§µ‡§ø‡§ú‡§Ø ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rama", color: "#7c2d12", desc: "Victory-granting weapon.", specialty: "Assured triumph", weaknesses: ["Non-offensive"], stats: { destruction: 5, precision: 95, range: 50, mysticism: 98, speed: 70, durability: 60 } },
                { id: 68, name: "Pitambari Astra", name_hi: "‡§™‡•Ä‡§§‡§æ‡§Æ‡•ç‡§¨‡§∞‡•Ä ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Krishna", color: "#fde047", desc: "Weapon of golden light.", specialty: "Enemy disorientation", weaknesses: ["Short duration"], stats: { destruction: 40, precision: 85, range: 60, mysticism: 90, speed: 80, durability: 70 } },
                { id: 69, name: "Kamadhenu Astra", name_hi: "‡§ï‡§æ‡§Æ‡§ß‡•á‡§®‡•Å ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Kamadhenu", color: "#fcd34d", desc: "Weapon of abundance.", specialty: "Summons celestial warriors", weaknesses: ["Slow"], stats: { destruction: 60, precision: 80, range: 85, mysticism: 95, speed: 70, durability: 85 } },
                { id: 70, name: "Nandi Astra", name_hi: "‡§®‡§Ç‡§¶‡•Ä ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Nandi", color: "#4c0519", desc: "Weapon of bull-force.", specialty: "Ground quakes", weaknesses: ["Short range"], stats: { destruction: 85, precision: 70, range: 50, mysticism: 90, speed: 70, durability: 95 } },

                { id: 71, name: "Astra of Narasimha", name_hi: "‡§®‡§∞‡§∏‡§ø‡§Ç‡§π ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Narasimha", color: "#ca8a04", desc: "Weapon of ferocity.", specialty: "Tear apart defenses", weaknesses: ["Unstable energy"], stats: { destruction: 98, precision: 85, range: 70, mysticism: 95, speed: 90, durability: 98 } },
                { id: 72, name: "Varaha Astra", name_hi: "‡§µ‡§∞‡§æ‡§π ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Varaha", color: "#7f1d1d", desc: "Weapon of earth uplift.", specialty: "Terrain alteration", weaknesses: ["Slow activation"], stats: { destruction: 90, precision: 80, range: 60, mysticism: 95, speed: 70, durability: 95 } },
                { id: 73, name: "Vamana Astra", name_hi: "‡§µ‡§æ‡§Æ‡§® ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vamana", color: "#a3e635", desc: "Weapon of cosmic expansion.", specialty: "Space distortion", weaknesses: ["Energy heavy"], stats: { destruction: 85, precision: 80, range: 100, mysticism: 98, speed: 75, durability: 85 } },
                { id: 74, name: "Parashu of Parashurama", name_hi: "‡§™‡§∞‡§∂‡•Å", deity: "Parashurama", color: "#ef4444", desc: "Divine axe.", specialty: "Cleave mountains", weaknesses: ["Heavy"], stats: { destruction: 95, precision: 85, range: 40, mysticism: 90, speed: 75, durability: 100 } },
                { id: 75, name: "Sudarshan Shakti", name_hi: "‡§∏‡•Å‡§¶‡§∞‡•ç‡§∂‡§® ‡§∂‡§ï‡•ç‡§§‡§ø", deity: "Vishnu", color: "#0ea5e9", desc: "Mini-chakra weapon.", specialty: "Homing strike", weaknesses: ["Lower power than Sudarshan Chakra"], stats: { destruction: 70, precision: 95, range: 90, mysticism: 85, speed: 95, durability: 85 } },

                { id: 76, name: "Shikhari Astra", name_hi: "‡§∂‡§ø‡§ñ‡§∞‡•Ä ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Skanda", color: "#dc2626", desc: "Hunter‚Äôs divine arrow.", specialty: "Beast-slaying", weaknesses: ["Short range"], stats: { destruction: 75, precision: 90, range: 70, mysticism: 80, speed: 85, durability: 80 } },
                { id: 77, name: "Maheshwara Astra", name_hi: "‡§Æ‡§π‡•á‡§∂‡•ç‡§µ‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Shiva", color: "#111827", desc: "Weapon of Shiva.", specialty: "Cosmic flame", weaknesses: ["Requires high tapasya"], stats: { destruction: 100, precision: 95, range: 100, mysticism: 100, speed: 90, durability: 100 } },
                { id: 78, name: "Karna Vijaya Astra", name_hi: "‡§ï‡§∞‡•ç‡§£ ‡§µ‡§ø‡§ú‡§Ø ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Surya", color: "#facc15", desc: "Victory weapon of Karna.", specialty: "Focus beam", weaknesses: ["Single-use"], stats: { destruction: 95, precision: 90, range: 90, mysticism: 85, speed: 88, durability: 80 } },
                { id: 79, name: "Bhima Astra", name_hi: "‡§≠‡•Ä‡§Æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vayu", color: "#475569", desc: "Weapon of strength.", specialty: "Shockwaves", weaknesses: ["Short range"], stats: { destruction: 90, precision: 75, range: 60, mysticism: 70, speed: 80, durability: 95 } },
                { id: 80, name: "Arjuna Astra", name_hi: "‡§Ö‡§∞‡•ç‡§ú‡•Å‡§® ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Indra", color: "#38bdf8", desc: "Precision weapon.", specialty: "Perfect accuracy", weaknesses: ["Lower area damage"], stats: { destruction: 80, precision: 100, range: 95, mysticism: 85, speed: 95, durability: 90 } },

                { id: 81, name: "Kritant Astra", name_hi: "‡§ï‡•É‡§§‡§æ‡§Ç‡§§ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Yama", color: "#2d1b1b", desc: "Death-bringing force.", specialty: "End-of-life", weaknesses: ["Doesn't affect immortals"], stats: { destruction: 90, precision: 80, range: 70, mysticism: 95, speed: 75, durability: 90 } },
                { id: 82, name: "Kalpavriksha Astra", name_hi: "‡§ï‡§≤‡•ç‡§™‡§µ‡•É‡§ï‡•ç‡§∑ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Divine Tree", color: "#4ade80", desc: "Wish-granting force.", specialty: "Creates anything", weaknesses: ["Not designed for war"], stats: { destruction: 20, precision: 100, range: 60, mysticism: 99, speed: 80, durability: 80 } },
                { id: 83, name: "Soma Astra", name_hi: "‡§∏‡•ã‡§Æ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Soma", color: "#bfdbfe", desc: "Weapon of bliss.", specialty: "Induces calm", weaknesses: ["Non-offensive"], stats: { destruction: 5, precision: 80, range: 60, mysticism: 90, speed: 70, durability: 70 } },
                { id: 84, name: "Agniparvata Astra", name_hi: "‡§Ö‡§ó‡•ç‡§®‡§ø‡§™‡§∞‡•ç‡§µ‡§§ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Agni", color: "#b91c1c", desc: "Creates volcano-like eruptions.", specialty: "Lava strike", weaknesses: ["Slow activation"], stats: { destruction: 95, precision: 85, range: 95, mysticism: 90, speed: 70, durability: 90 } },
                { id: 85, name: "Vishvarupa Astra", name_hi: "‡§µ‡§ø‡§∂‡•ç‡§µ‡§∞‡•Ç‡§™ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vishnu", color: "#3b82f6", desc: "Weapon of cosmic form.", specialty: "Multi-dimensional attack", weaknesses: ["Unstable"], stats: { destruction: 98, precision: 90, range: 100, mysticism: 100, speed: 90, durability: 95 } },

                { id: 86, name: "Trikona Astra", name_hi: "‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Tripura", color: "#4c0519", desc: "Weapon representing the three worlds.", specialty: "Tri-energy beam", weaknesses: ["Requires alignment"], stats: { destruction: 85, precision: 80, range: 90, mysticism: 95, speed: 80, durability: 90 } },
                { id: 87, name: "Sarpa Shakti", name_hi: "‡§∏‡§∞‡•ç‡§™ ‡§∂‡§ï‡•ç‡§§‡§ø", deity: "Naga", color: "#166534", desc: "Weapon of cobra force.", specialty: "Venom blast", weaknesses: ["Garuda aura"], stats: { destruction: 70, precision: 80, range: 60, mysticism: 75, speed: 78, durability: 75 } },
                { id: 88, name: "Nandi Ghanta", name_hi: "‡§®‡§Ç‡§¶‡•Ä ‡§ò‡§£‡•ç‡§ü‡§æ", deity: "Nandi", color: "#4b5563", desc: "Bell of divine sound.", specialty: "Sound shockwave", weaknesses: ["Ineffective in void"], stats: { destruction: 60, precision: 85, range: 70, mysticism: 90, speed: 85, durability: 95 } },
                { id: 89, name: "Rishi Danda", name_hi: "‡§ã‡§∑‡§ø ‡§¶‡§£‡•ç‡§°", deity: "Rishis", color: "#6b7280", desc: "Staff holding ancient wisdom.", specialty: "Spiritual strike", weaknesses: ["Requires purity"], stats: { destruction: 50, precision: 85, range: 60, mysticism: 98, speed: 75, durability: 80 } },
                { id: 90, name: "Kala Chakra", name_hi: "‡§ï‡§æ‡§≤ ‡§ö‡§ï‡•ç‡§∞", deity: "Time", color: "#171717", desc: "Wheel of time.", specialty: "Stops or speeds time", weaknesses: ["Drain on wielder"], stats: { destruction: 95, precision: 90, range: 95, mysticism: 100, speed: 90, durability: 95 } },

                { id: 91, name: "Agniratha Astra", name_hi: "‡§Ö‡§ó‡•ç‡§®‡§ø‡§∞‡§• ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Agni", color: "#dc2626", desc: "Fire chariot weapon.", specialty: "Burning charge", weaknesses: ["Needs open area"], stats: { destruction: 90, precision: 85, range: 80, mysticism: 80, speed: 85, durability: 90 } },
                { id: 92, name: "Soma Teer", name_hi: "‡§∏‡•ã‡§Æ ‡§§‡•Ä‡§∞", deity: "Soma", color: "#f0f9ff", desc: "Arrow of peace.", specialty: "Disarms opponents", weaknesses: ["Non-lethal"], stats: { destruction: 5, precision: 90, range: 70, mysticism: 95, speed: 75, durability: 70 } },
                { id: 93, name: "Rakshasa Astra", name_hi: "‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Rakshasa", color: "#450a0a", desc: "Weapon of dark energy.", specialty: "Fear and chaos", weaknesses: ["Countered by divine light"], stats: { destruction: 85, precision: 80, range: 80, mysticism: 85, speed: 80, durability: 80 } },
                { id: 94, name: "Yaksha Astra", name_hi: "‡§Ø‡§ï‡•ç‡§∑ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Yaksha", color: "#3f6212", desc: "Weapon of guardians.", specialty: "Nature control", weaknesses: ["Slow"], stats: { destruction: 70, precision: 80, range: 75, mysticism: 90, speed: 70, durability: 85 } },
                { id: 95, name: "Bhuta Astra", name_hi: "‡§≠‡•Ç‡§§ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Bhutas", color: "#6b7280", desc: "Ghostly energy.", specialty: "Spirit strike", weaknesses: ["Exorcised by mantras"], stats: { destruction: 60, precision: 80, range: 70, mysticism: 95, speed: 75, durability: 75 } },

                { id: 96, name: "Pretastra", name_hi: "‡§™‡•ç‡§∞‡•á‡§§ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Pretas", color: "#4b5563", desc: "Summons wandering spirits.", specialty: "Fear wave", weaknesses: ["Broken by divine aura"], stats: { destruction: 55, precision: 80, range: 70, mysticism: 90, speed: 75, durability: 70 } },
                { id: 97, name: "Shikhar Astra", name_hi: "‡§∂‡§ø‡§ñ‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Mountain Gods", color: "#334155", desc: "Weapon of mountains.", specialty: "Rock fall", weaknesses: ["Slow"], stats: { destruction: 85, precision: 75, range: 70, mysticism: 85, speed: 60, durability: 95 } },
                { id: 98, name: "Samudra Astra", name_hi: "‡§∏‡§Æ‡•Å‡§¶‡•ç‡§∞ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Sea God", color: "#0284c7", desc: "Oceanic weapon.", specialty: "Tidal waves", weaknesses: ["Weak inland"], stats: { destruction: 90, precision: 80, range: 95, mysticism: 85, speed: 70, durability: 90 } },
                { id: 99, name: "Pawan Shakti", name_hi: "‡§™‡§µ‡§® ‡§∂‡§ï‡•ç‡§§‡§ø", deity: "Vayu", color: "#7dd3fc", desc: "Wind blast.", specialty: "Air slicing", weaknesses: ["Scattered by obstacles"], stats: { destruction: 70, precision: 85, range: 80, mysticism: 75, speed: 95, durability: 75 } },
                { id: 100, name: "Moksha Astra", name_hi: "‡§Æ‡•ã‡§ï‡•ç‡§∑ ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", deity: "Vishnu", color: "#16a34a", desc: "Weapon granting liberation.", specialty: "Ends karmic cycle", weaknesses: ["Not offensive"], stats: { destruction: 0, precision: 100, range: 60, mysticism: 100, speed: 70, durability: 80 } }
          ];

        const TRANSLATIONS = {
            en: {
                title: "DIVYA ASTRA", subtitle: "Massive Multiplayer Battle", enter: "Start Game", next: "Next Round",
                next_turn: "Next Turn", load_weapons: "Load New Weapons", lore: "Lore", guru: "Guru", reincarnate: "New Game",
                add_player: "Add Player", start_war: "Begin War", start_battle: "Start First Round", begin_round: "Begin Next Round", select: "Select Attribute",
                reveal: "REVEAL POWER", clash: "CLASH!", winner: "WINNER", tie: "TIE", stats_hidden: "Stats Hidden",
                preview_mode: "Weapon Preview", sudden_death: "SUDDEN DEATH", turn: "'s Turn", points: "pts",
                legend_title: "Legendary Usage", final_result: "Final Result", grand_winner: "Grand Winner",
                instructions: "Game Instructions", close: "Close", current_standings: "Current Standings",
                view_arsenal: "View Arsenal", arsenal_title: "Arsenal History", weak_points: "Weak Points",
                rule_list: [
                    "üåå Objective: Prove your worth as the supreme warrior by accumulating the most points over 3 epic rounds.",
                    "‚öîÔ∏è Setup: Gather 2-30 players. Each is granted a divine Astra (weapon) chosen by fate.",
                    "üëÄ Preview Phase: Before the chaos, study the battlefield. You can see every warrior's weapon name and deity. Use this knowledge!",
                    "üî• The Turn: One player becomes the Active Warrior. They must choose a 'Power Attribute' (like Destruction or Speed).",
                    "üß† Blind Strategy: The Active Warrior cannot see their stats! They must rely on the weapon's LORE and HISTORY to guess its strongest attribute.",
                    "üèÜ Scoring: Once an attribute is chosen, all weapons reveal their power. The highest value wins! The winner takes 12 points. If there's a tie, points are split.",
                    "üîÑ Arsenal Rotation: Your weapon is your bond. You keep it until EVERY player has had a turn. Only then do the gods grant new weapons.",
                    "‚ò†Ô∏è Sudden Death: If the war ends in a tie, the top warriors face off in a final, single-round elimination battle."
                ],
                stats: { destruction: "Destruction", precision: "Precision", range: "Range", speed: "Speed", durability: "Durability", mysticism: "Mysticism" },
                stat_descriptions: { destruction: "Raw damage potential.", precision: "Accuracy.", range: "Max distance.", speed: "Velocity.", durability: "Resilience.", mysticism: "Magic power." },
                footer: "Divine Knowledge: The 'Vajra' was forged from the bones of Sage Dadhichi."
            },
            hi: { title: "‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", subtitle: "‡§Æ‡§π‡§æ‡§Ø‡•Å‡§¶‡•ç‡§ß", enter: "‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠", next: "‡§Ö‡§ó‡§≤‡§æ ‡§¶‡•å‡§∞", next_turn: "‡§Ö‡§ó‡§≤‡•Ä ‡§¨‡§æ‡§∞‡•Ä", load_weapons: "‡§®‡§è ‡§∂‡§∏‡•ç‡§§‡•ç‡§∞ ‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç", start_war: "‡§Ø‡•Å‡§¶‡•ç‡§ß ‡§Ü‡§∞‡§Ç‡§≠", start_battle: "‡§Ø‡•Å‡§¶‡•ç‡§ß ‡§∂‡•Å‡§∞‡•Ç", begin_round: "‡§Ö‡§ó‡§≤‡§æ ‡§¶‡•å‡§∞ ‡§∂‡•Å‡§∞‡•Ç", select: "‡§ó‡•Å‡§£ ‡§ö‡•Å‡§®‡•á‡§Ç", reveal: "‡§∂‡§ï‡•ç‡§§‡§ø ‡§¶‡•á‡§ñ‡•á‡§Ç", clash: "‡§™‡•ç‡§∞‡§π‡§æ‡§∞!", winner: "‡§µ‡§ø‡§ú‡•á‡§§‡§æ", tie: "‡§ü‡§æ‡§à", stats_hidden: "‡§ó‡•Å‡§™‡•ç‡§§", preview_mode: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞ ‡§¶‡§∞‡•ç‡§∂‡§®", turn: " ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä", points: "‡§Ö‡§Ç‡§ï", legend_title: "‡§™‡•å‡§∞‡§æ‡§£‡§ø‡§ï ‡§ï‡§•‡§æ", final_result: "‡§™‡§∞‡§ø‡§£‡§æ‡§Æ", grand_winner: "‡§Æ‡§π‡§æ‡§µ‡§ø‡§ú‡•á‡§§‡§æ", instructions: "‡§®‡§ø‡§Ø‡§Æ", close: "‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç", current_standings: "‡§∞‡•à‡§Ç‡§ï‡§ø‡§Ç‡§ó", view_arsenal: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡§æ‡§ó‡§æ‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç", arsenal_title: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞ ‡§á‡§§‡§ø‡§π‡§æ‡§∏", weak_points: "‡§ï‡§Æ‡§ú‡•ã‡§∞‡§ø‡§Ø‡§æ‡§Ç", stats: { destruction: "‡§µ‡§ø‡§®‡§æ‡§∂", precision: "‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ", range: "‡§µ‡•ç‡§Ø‡§æ‡§™‡•ç‡§§‡§ø", speed: "‡§ó‡§§‡§ø", durability: "‡§¶‡•É‡§¢‡§º‡§§‡§æ", mysticism: "‡§Æ‡§æ‡§Ø‡§æ" }, stat_descriptions: { destruction: "‡§µ‡§ø‡§®‡§æ‡§∂ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ", precision: "‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ", range: "‡§¶‡•Ç‡§∞‡•Ä", speed: "‡§µ‡•á‡§ó", durability: "‡§ü‡§ø‡§ï‡§æ‡§ä‡§™‡§®", mysticism: "‡§ú‡§æ‡§¶‡•Ç" }, footer: "‡§ú‡•ç‡§û‡§æ‡§®: ‡§µ‡§ú‡•ç‡§∞ ‡§¶‡§ß‡•Ä‡§ö‡§ø ‡§ï‡•Ä ‡§π‡§°‡•ç‡§°‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§®‡§æ ‡§•‡§æ‡•§" },
            mr: { title: "‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§Ö‡§∏‡•ç‡§§‡•ç‡§∞", subtitle: "‡§Æ‡§π‡§æ‡§Ø‡•Å‡§¶‡•ç‡§ß", enter: "‡§∏‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§æ", next: "‡§™‡•Å‡§¢‡•Ä‡§≤ ‡§´‡•á‡§∞‡•Ä", next_turn: "‡§™‡•Å‡§¢‡§ö‡•Ä ‡§™‡§æ‡§≥‡•Ä", load_weapons: "‡§®‡§µ‡•Ä‡§® ‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡•á ‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ", start_war: "‡§Ø‡•Å‡§¶‡•ç‡§ß ‡§∏‡•Å‡§∞‡•Ç", start_battle: "‡§≤‡§¢‡§æ‡§à ‡§∏‡•Å‡§∞‡•Ç", begin_round: "‡§™‡•Å‡§¢‡•Ä‡§≤ ‡§´‡•á‡§∞‡•Ä ‡§∏‡•Å‡§∞‡•Ç", select: "‡§ó‡•Å‡§£ ‡§®‡§ø‡§µ‡§°‡§æ", reveal: "‡§∂‡§ï‡•ç‡§§‡•Ä ‡§™‡§π‡§æ", clash: "‡§™‡•ç‡§∞‡§π‡§æ‡§∞!", winner: "‡§µ‡§ø‡§ú‡•á‡§§‡§æ", tie: "‡§¨‡§∞‡•ã‡§¨‡§∞‡•Ä", stats_hidden: "‡§ó‡•Å‡§™‡•ç‡§§", preview_mode: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§®", turn: " ‡§ö‡•Ä ‡§™‡§æ‡§≥‡•Ä", points: "‡§ó‡•Å‡§£", legend_title: "‡§ï‡§•‡§æ", final_result: "‡§®‡§ø‡§ï‡§æ‡§≤", grand_winner: "‡§Æ‡§π‡§æ‡§µ‡§ø‡§ú‡•á‡§§‡§æ", instructions: "‡§®‡§ø‡§Ø‡§Æ", close: "‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§æ", current_standings: "‡§ó‡•Å‡§£‡§´‡§≤‡§ï", view_arsenal: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡•á ‡§™‡§π‡§æ", arsenal_title: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞ ‡§á‡§§‡§ø‡§π‡§æ‡§∏", weak_points: "‡§ï‡§Æ‡§ï‡•Å‡§µ‡§§‡§™‡§£‡§æ", stats: { destruction: "‡§µ‡§ø‡§®‡§æ‡§∂", precision: "‡§Ö‡§ö‡•Ç‡§ï‡§§‡§æ", range: "‡§™‡§≤‡•ç‡§≤‡§æ", speed: "‡§µ‡•á‡§ó", durability: "‡§ü‡§ø‡§ï‡§æ‡§ä‡§™‡§£‡§æ", mysticism: "‡§ó‡•Ç‡§¢‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ" }, stat_descriptions: { destruction: "‡§µ‡§ø‡§®‡§æ‡§∂", precision: "‡§®‡•á‡§Æ‡§¨‡§æ‡§ú‡•Ä", range: "‡§™‡§≤‡•ç‡§≤‡§æ", speed: "‡§µ‡•á‡§ó", durability: "‡§ü‡§ø‡§ï‡§æ‡§ä‡§™‡§£‡§æ", mysticism: "‡§ú‡§æ‡§¶‡•Ç" }, footer: "‡§ú‡•ç‡§û‡§æ‡§®: ‡§µ‡§ú‡•ç‡§∞ ‡§¶‡§ß‡•Ä‡§ö‡•Ä‡§Ç‡§ö‡•ç‡§Ø‡§æ ‡§π‡§æ‡§°‡§æ‡§Ç‡§™‡§æ‡§∏‡•Ç‡§® ‡§¨‡§®‡§µ‡§≤‡•á ‡§π‡•ã‡§§‡•á." },
            sa: { title: "‡§¶‡§ø‡§µ‡•ç‡§Ø‡§æ‡§∏‡•ç‡§§‡•ç‡§∞‡§Æ‡•ç", subtitle: "‡§∏‡§Ç‡§ó‡•ç‡§∞‡§æ‡§Æ‡§É", enter: "‡§Ü‡§∞‡§≠‡§§‡§æ‡§Æ‡•ç", next: "‡§Ö‡§ó‡•ç‡§∞‡§ø‡§Æ‡§É", next_turn: "‡§Ö‡§ó‡•ç‡§∞‡§ø‡§Æ‡§É ‡§µ‡§æ‡§∞‡§É", load_weapons: "‡§®‡•Ç‡§§‡§®‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡§æ‡§£‡§ø", start_war: "‡§Ø‡•Å‡§¶‡•ç‡§ß‡§æ‡§∞‡§Æ‡•ç‡§≠‡§É", start_battle: "‡§Ü‡§∞‡§Æ‡•ç‡§≠‡§É", begin_round: "‡§Ö‡§ó‡•ç‡§∞‡§ø‡§Æ‡§ö‡§ï‡•ç‡§∞‡§æ‡§∞‡§Æ‡•ç‡§≠‡§É", select: "‡§ö‡§ø‡§®‡•ã‡§§‡•Å", reveal: "‡§¶‡§∞‡•ç‡§∂‡§®‡§Æ‡•ç", clash: "‡§™‡•ç‡§∞‡§π‡§æ‡§∞‡§É!", winner: "‡§µ‡§ø‡§ú‡§Ø‡•Ä", tie: "‡§∏‡§æ‡§Æ‡•ç‡§Ø‡§Æ‡•ç", stats_hidden: "‡§ó‡•Å‡§™‡•ç‡§§‡§æ‡§É", preview_mode: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§®‡§Æ‡•ç", turn: " ‡§µ‡§æ‡§∞‡§É", points: "‡§Ö‡§Ç‡§ï‡§æ‡§É", legend_title: "‡§ï‡§•‡§æ", final_result: "‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§É", grand_winner: "‡§Æ‡§π‡§æ‡§µ‡§ø‡§ú‡§Ø‡•Ä", instructions: "‡§®‡§ø‡§Ø‡§Æ‡§æ‡§É", close: "‡§™‡§ø‡§ß‡§§‡•ç‡§§", current_standings: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø‡§É", view_arsenal: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡§æ‡§ó‡§æ‡§∞‡§Æ‡•ç", arsenal_title: "‡§∂‡§∏‡•ç‡§§‡•ç‡§∞‡•á‡§§‡§ø‡§π‡§æ‡§∏‡§É", weak_points: "‡§¶‡•Å‡§∞‡•ç‡§¨‡§≤‡§§‡§æ", stats: { destruction: "‡§µ‡§ø‡§®‡§æ‡§∂‡§É", precision: "‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡§≠‡•á‡§¶‡§É", range: "‡§µ‡•ç‡§Ø‡§æ‡§™‡•ç‡§§‡§ø‡§É", speed: "‡§µ‡•á‡§ó‡§É", durability: "‡§∏‡•ç‡§•‡•à‡§∞‡•ç‡§Ø‡§Æ‡•ç", mysticism: "‡§Æ‡§æ‡§Ø‡§æ" }, stat_descriptions: { destruction: "‡§∂‡§ï‡•ç‡§§‡§ø‡§É", precision: "‡§Ö‡§ö‡•Ç‡§ï‡§§‡§æ", range: "‡§∏‡•Ä‡§Æ‡§æ", speed: "‡§ó‡§§‡§ø‡§É", durability: "‡§∏‡•ç‡§•‡•à‡§∞‡•ç‡§Ø‡§Æ‡•ç", mysticism: "‡§Æ‡§æ‡§Ø‡§æ" }, footer: "‡§ú‡•ç‡§û‡§æ‡§®‡§Æ‡•ç: ‡§µ‡§ú‡•ç‡§∞‡§Æ‡•ç ‡§¶‡§ß‡•Ä‡§ö‡•á‡§É ‡§Ö‡§∏‡•ç‡§•‡§ø‡§≠‡§ø‡§É ‡§®‡§ø‡§∞‡•ç‡§Æ‡§ø‡§§‡§Æ‡•ç‡•§" }
        };

        TRANSLATIONS.hi = { ...TRANSLATIONS.en, ...TRANSLATIONS.hi };
        TRANSLATIONS.mr = { ...TRANSLATIONS.en, ...TRANSLATIONS.mr };
        TRANSLATIONS.sa = { ...TRANSLATIONS.en, ...TRANSLATIONS.sa };

        const state = {
            screen: 'setup', lang: 'en',
            players: [ { id: 1, name: 'Arjuna', score: 0, deck: [], currentCard: null, usedWeapons: [] }, { id: 2, name: 'Karna', score: 0, deck: [], currentCard: null, usedWeapons: [] } ],
            turnIndex: 0, totalTurnsPlayed: 0, phase: 'preview', selectedStat: null, winningStatVal: 0, roundWinners: [], roundLog: "", maxRounds: 3, gameMode: 'normal',
            audio: new Audio(BATTLE_MUSIC_URL),
            volume: 0.5,
            isAudioPlaying: false,
            viewingPlayerId: null
        };

        // Initialize Audio settings
        state.audio.loop = true;
        state.audio.volume = state.volume;

        function toggleSound() {
            if (state.isAudioPlaying) stopSound();
            else startSound();
            updateSoundIcon();
        }

        function startSound() {
            state.audio.play().then(() => {
                state.isAudioPlaying = true;
                updateSoundIcon();
            }).catch(e => console.error("Audio play failed:", e));
        }

        function stopSound() {
            state.audio.pause();
            state.isAudioPlaying = false;
            updateSoundIcon();
        }

        function changeVolume(delta) {
            let newVol = state.volume + delta;
            if (newVol > 1) newVol = 1;
            if (newVol < 0) newVol = 0;
            state.volume = newVol;
            state.audio.volume = newVol;
            
            // Optional: Flash the volume icon to indicate change
            const btn = document.getElementById('sound-btn');
            btn.classList.add('text-amber-400');
            setTimeout(() => btn.classList.remove('text-amber-400'), 200);
        }

        function updateSoundIcon() {
            const icon = document.getElementById('sound-icon');
            if(state.isAudioPlaying) {
                icon.setAttribute('data-lucide', 'volume-2');
                icon.classList.add('text-amber-400');
            } else {
                icon.setAttribute('data-lucide', 'volume-x');
                icon.classList.remove('text-amber-400');
            }
            lucide.createIcons();
        }

        // --- LOGIC ---
        function getT() { return TRANSLATIONS[state.lang]; }
        function addPlayer() { const input = document.getElementById('new-player-input'); const name = input.value.trim(); if (name && state.players.length < 30) { state.players.push({ id: Date.now(), name, score: 0, deck: [], currentCard: null, usedWeapons: [] }); input.value = ''; render(); } }
        function removePlayer(id) { if (state.players.length > 2) { state.players = state.players.filter(p => p.id !== id); render(); } }
        function updatePlayerName(id, newName) { const p = state.players.find(pl => pl.id === id); if (p) p.name = newName; }
        function startWar() { const shuffled = [...WEAPONS_DB].sort(() => Math.random() - 0.5); let wIdx = 0; state.players.forEach((p, idx) => { p.score = 0; p.deck = []; p.usedWeapons = []; for(let i=0; i<5; i++) { p.deck.push(shuffled[wIdx % shuffled.length]); wIdx++; } p.currentCard = p.deck[0]; p.usedWeapons.push(p.currentCard); }); state.totalTurnsPlayed = 0; state.phase = 'preview'; state.screen = 'battle'; state.gameMode = 'normal'; state.maxRounds = 3; render(); }
        
        function enterCombat() {
            if (state.totalTurnsPlayed === 0) {
                state.turnIndex = Math.floor(Math.random() * state.players.length);
            }
            state.phase = 'select';
            render();
        }

        function selectStat(key) { state.selectedStat = key; state.phase = 'reveal_self'; render(); }
        function revealResult() { state.phase = 'result'; let maxVal = -1; let winners = []; state.players.forEach(p => { if(p.currentCard) { const val = p.currentCard.stats[state.selectedStat]; if(val > maxVal) { maxVal = val; winners = [p.id]; } else if (val === maxVal) { winners.push(p.id); } } }); state.roundWinners = winners; state.winningStatVal = maxVal; const points = Math.floor(12 / winners.length); state.players.forEach(p => { if(winners.includes(p.id)) p.score += points; }); const winnerNames = state.players.filter(p => winners.includes(p.id)).map(p => p.name).join(" & "); const t = getT(); state.roundLog = `${winnerNames} ${t.winner} (${t.stats[state.selectedStat]}: ${maxVal})!`; render(); }
        
        function nextRound() { 
            const nextTurn = state.totalTurnsPlayed + 1; 
            
            if (nextTurn >= state.players.length * state.maxRounds) { 
                const maxScore = Math.max(...state.players.map(p => p.score)); 
                const winners = state.players.filter(p => p.score === maxScore); 
                if(winners.length > 1) { initiateTieBreaker(winners); return; } 
                state.screen = 'final_result'; render(); return; 
            } 
            
            let weaponsChanged = false;
            if (nextTurn % state.players.length === 0) { 
                state.players.forEach(p => { 
                    const used = p.deck.shift(); 
                    p.deck.push(used); 
                    p.currentCard = p.deck[0]; 
                    p.usedWeapons.push(p.currentCard); 
                });
                weaponsChanged = true;
            } 
            
            state.totalTurnsPlayed = nextTurn; 
            state.turnIndex = (state.turnIndex + 1) % state.players.length; 
            
            if(weaponsChanged) {
                state.phase = 'preview';
            } else {
                state.phase = 'select';
            }
            
            state.selectedStat = null; 
            state.roundWinners = []; 
            render(); 
        }
        
        function initiateTieBreaker(winners) { state.gameMode = 'tiebreaker'; state.maxRounds = 1; state.totalTurnsPlayed = 0; state.turnIndex = 0; state.phase = 'preview'; state.roundWinners = []; const shuffled = [...WEAPONS_DB].sort(() => Math.random() - 0.5); let wIdx = 0; const tiePlayers = winners.map(p => { const deck = [shuffled[wIdx++]]; return { ...p, score: 0, deck: deck, currentCard: deck[0], usedWeapons: [deck[0]] }; }); state.players = tiePlayers; render(); }
        function setViewingPlayer(id) { state.viewingPlayerId = id; render(); }

        // --- RENDERING HELPERS ---
        function getWeaponImageUrl(name) { return `https://placehold.co/600x400/0f172a/f59e0b?text=${encodeURIComponent(name)}&font=playfair-display`; }
        function getIconForStat(key) { switch(key) { case 'destruction': return 'flame'; case 'precision': return 'target'; case 'range': return 'wind'; case 'speed': return 'activity'; case 'durability': return 'hexagon'; case 'mysticism': return 'zap'; default: return 'star'; } }

        function render() {
            const t = getT();
            document.getElementById('app-title').innerText = t.title;
            const turnEl = document.getElementById('turn-indicator');
            if(state.screen === 'battle') {
                turnEl.innerText = state.gameMode === 'tiebreaker' ? t.sudden_death : `Turn: ${state.totalTurnsPlayed + 1} / ${state.players.length * state.maxRounds}`;
                 if(state.gameMode === 'tiebreaker') turnEl.className = "text-xs font-mono hidden sm:block text-red-500 font-bold animate-pulse";
                 else turnEl.className = "text-xs text-slate-500 font-mono hidden sm:block";
            } else turnEl.innerText = "";

            const container = document.getElementById('main-container');
            if (state.screen === 'setup') renderSetup(container, t);
            else if (state.screen === 'battle') renderBattle(container, t);
            else if (state.screen === 'final_result') renderFinal(container, t);
            
            const modalContainer = document.getElementById('modal-container');
            if(state.viewingPlayerId) {
                const p = state.players.find(pl => pl.id === state.viewingPlayerId) || state.players[0];
                modalContainer.innerHTML = renderArsenalModal(p, t);
            } else if (state.phase === 'select' || state.phase === 'reveal_self') {
                 const activePlayer = state.players[state.turnIndex];
                modalContainer.innerHTML = renderActiveModal(activePlayer, t);
            } else modalContainer.innerHTML = '';
            lucide.createIcons();
        }

        function renderSetup(container, t) {
            container.innerHTML = `
                <div class="max-w-md mx-auto mt-10 animate-in zoom-in">
                    <div class="text-center mb-8"><i data-lucide="swords" class="w-16 h-16 mx-auto text-amber-500 mb-4"></i><h2 class="text-4xl font-serif font-bold text-white mb-2">${t.subtitle}</h2><p class="text-slate-400 text-sm">2-30 Warriors</p></div>
                    <div class="glass rounded-2xl p-6 shadow-2xl">
                        <div class="flex gap-2 mb-6"><input id="new-player-input" type="text" placeholder="Warrior Name..." class="flex-1 bg-slate-950/50 border border-slate-600 rounded-lg px-4 py-3 text-sm focus:border-amber-500 outline-none text-white"><button onclick="addPlayer()" class="bg-indigo-600 hover:bg-indigo-500 text-white p-3 rounded-lg"><i data-lucide="user-plus"></i></button></div>
                        <div class="space-y-2 mb-8 max-h-60 overflow-y-auto custom-scrollbar pr-2">${state.players.map(p => `<div class="flex items-center justify-between bg-slate-800/50 p-3 rounded-lg border border-slate-700/50"><input oninput="updatePlayerName(${p.id}, this.value)" value="${p.name}" class="bg-transparent border-none outline-none text-sm font-bold text-slate-200 w-full"/><button onclick="removePlayer(${p.id})" class="text-slate-500 hover:text-red-400"><i data-lucide="trash-2" class="w-4 h-4"></i></button></div>`).join('')}</div>
                        <button onclick="startWar()" class="w-full bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold py-4 rounded-xl uppercase tracking-widest flex items-center justify-center gap-2 hover:scale-105 transition-transform"><i data-lucide="play" class="w-4 h-4"></i> ${t.start_war}</button>
                    </div>
                </div>`;
        }

        function renderBattle(container, t) {
            let gridClass = "grid-cols-2 md:grid-cols-3 lg:grid-cols-4"; const count = state.players.length;
            if (count <= 2) gridClass = "grid-cols-2 max-w-3xl mx-auto"; else if (count <= 6) gridClass = "grid-cols-2 md:grid-cols-3"; else if (count <= 12) gridClass = "grid-cols-3 md:grid-cols-4"; else gridClass = "grid-cols-4 md:grid-cols-5 lg:grid-cols-6";
            
            const isRoundOver = (state.totalTurnsPlayed + 1) % state.players.length === 0;
            const btnText = (state.totalTurnsPlayed + 1) >= state.players.length * state.maxRounds ? t.final_result : (isRoundOver ? t.load_weapons : t.next_turn);

            const donutColor = state.selectedStat ? STAT_COLORS[state.selectedStat] : '#eab308';
            const winnerDonut = state.phase === 'result' ? `
                <div class="flex items-center gap-3 bg-slate-800/80 rounded-lg px-3 py-1 border border-slate-700 shrink-0">
                    <div class="relative w-8 h-8">
                        <svg viewBox="0 0 36 36" class="circular-chart w-full h-full">
                            <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            <path class="circle" stroke-dasharray="${state.winningStatVal}, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" style="stroke: ${donutColor};" />
                        </svg>
                         <div class="absolute inset-0 flex items-center justify-center text-[9px] font-bold text-white">${state.winningStatVal}</div>
                    </div>
                    <div class="text-[10px] uppercase font-bold text-slate-300 hidden md:block">
                        ${state.selectedStat ? t.stats[state.selectedStat] : ''}
                    </div>
                </div>
            ` : '';

            container.innerHTML = `
                <div class="flex flex-col items-center h-full w-full">
                    ${state.phase === 'preview' ? `
                        <div class="w-full max-w-lg bg-slate-900/80 border border-indigo-500/30 rounded-xl p-6 mb-8 text-center shadow-2xl animate-bounce-gentle z-30">
                            <h3 class="text-amber-400 font-bold uppercase tracking-widest text-sm mb-2 flex items-center justify-center gap-2">
                                <i data-lucide="eye"></i> ${t.preview_mode}
                            </h3>
                            <button onclick="enterCombat()" class="w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-sm uppercase tracking-widest rounded-lg shadow-lg mt-4">
                                ${state.totalTurnsPlayed === 0 ? t.start_battle : t.begin_round}
                            </button>
                        </div>
                    ` : ''}
                    ${state.phase === 'result' ? `
                    <div class="w-full max-w-3xl bg-slate-900/95 border border-amber-500/30 rounded-xl p-3 mb-8 shadow-2xl z-30 sticky top-2 glass flex flex-col md:flex-row items-center justify-between gap-4">
                         <div class="flex items-center justify-between w-full gap-4">
                            <div class="text-amber-300 font-bold text-sm md:text-lg drop-shadow-md truncate flex-1">${state.roundLog}</div>
                            ${winnerDonut}
                         </div>
                         <button onclick="nextRound()" class="w-full md:w-auto px-6 py-2 bg-amber-600 hover:bg-amber-500 text-white font-bold text-xs uppercase tracking-widest rounded-lg shadow-lg shrink-0 whitespace-nowrap transition-transform hover:scale-105">${btnText}</button>
                    </div>` : ''}
                    <div class="grid ${gridClass} gap-4 w-full pb-20">${state.players.map((p, idx) => renderPlayerCard(p, idx === state.turnIndex, t)).join('')}</div>
                </div>`;
        }

        function renderPlayerCard(player, isActive, t) {
            const weapon = player.currentCard; const isWinner = state.roundWinners.includes(player.id); const showStats = state.phase === 'result';
            let borderColor = '#334155'; if (isActive || isWinner || state.phase === 'preview') borderColor = weapon.color;
            return `
                <div class="relative flex flex-col bg-slate-900 rounded-xl border transition-all duration-500 overflow-hidden group ${isActive ? 'scale-105 z-20 shadow-2xl' : 'opacity-90 hover:opacity-100'}" style="border-color: ${borderColor}; box-shadow: ${isActive || isWinner ? `0 0 15px ${weapon.color}40` : 'none'}">
                    ${isWinner ? `<div class="absolute inset-0 border-2 rounded-xl animate-pulse pointer-events-none z-50" style="border-color: ${weapon.color}"></div>` : ''}
                    <div class="flex justify-between items-center bg-slate-950 p-2 border-b border-slate-800"><div class="font-bold text-xs text-slate-200 truncate max-w-[80px]">${player.name}</div><div class="flex items-center gap-1 text-[10px] font-mono px-1.5 py-0.5 rounded border border-slate-800" style="color: ${weapon.color}; background-color: ${weapon.color}10"><i data-lucide="trophy" class="w-3 h-3"></i> ${player.score}</div></div>
                    <div class="h-32 bg-black relative overflow-hidden">
                        <img src="${getWeaponImageUrl(weapon.name)}" class="w-full h-full object-cover opacity-80">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent"></div>
                        <div class="absolute bottom-0 w-full p-2 text-center flex flex-col items-center justify-end min-h-[2rem]">
                             <div class="text-xs font-serif font-bold drop-shadow-md mb-1 whitespace-normal leading-tight" style="color: ${weapon.color}">${weapon.name}</div>
                             <div class="text-[10px] font-hindi text-slate-400 whitespace-normal leading-none">${weapon.name_hi}</div>
                        </div>
                    </div>
                    <div class="flex-1 p-2 bg-slate-900 flex flex-col items-center justify-center min-h-[60px]">
                        ${state.phase === 'preview' ? `<div class="text-center fade-in"><div class="text-[9px] uppercase tracking-widest mb-1" style="color: ${weapon.color}">${weapon.deity}</div><p class="text-[8px] text-slate-500 italic line-clamp-2 leading-tight">"${weapon.desc}"</p></div>` : ''}
                        ${(state.phase === 'select' || state.phase === 'reveal_self') ? `<div class="text-slate-700 text-[10px] uppercase tracking-widest flex flex-col items-center gap-1 animate-pulse">${isActive ? `<span style="color: ${weapon.color}" class="font-bold">Choosing...</span>` : `<i data-lucide="eye-off" class="w-4 h-4"></i> ${t.stats_hidden}`}</div>` : ''}
                        ${(state.phase === 'result' && showStats && state.selectedStat) ? `<div class="flex flex-col items-center w-full zoom-in"><div class="text-[9px] uppercase mb-1" style="color: ${STAT_COLORS[state.selectedStat]}">${t.stats[state.selectedStat]}</div><div class="w-full h-2 bg-slate-800 rounded-full mb-1 overflow-hidden relative"><div class="h-full rounded-full relative" style="width: ${weapon.stats[state.selectedStat]}%; background: ${STAT_COLORS[state.selectedStat]}; box-shadow: 0 0 10px ${STAT_COLORS[state.selectedStat]}"></div></div><div class="text-lg font-black text-white">${weapon.stats[state.selectedStat]}</div></div>` : ''}
                    </div>
                </div>`;
        }

        function renderActiveModal(player, t) {
            const weapon = player.currentCard;
            const statButtons = Object.keys(t.stats).map(key => `
                <button onclick="selectStat('${key}')" onmouseenter="document.getElementById('stat-desc').innerText = '${t.stat_descriptions[key]}'" onmouseleave="document.getElementById('stat-desc').innerText = 'CHOOSE POWER'" class="py-4 bg-slate-900 text-white border border-slate-700 hover:border-white rounded-xl uppercase text-xs font-bold tracking-widest transition-all hover:scale-105 hover:shadow-xl flex flex-col items-center gap-2 group relative overflow-hidden" style="border-color: ${STAT_COLORS[key]}40">
                    <div class="absolute inset-0 bg-gradient-to-br from-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <i data-lucide="${getIconForStat(key)}" class="w-6 h-6 transition-colors" style="color: ${STAT_COLORS[key]}"></i>
                    <span class="relative z-10 transition-colors" style="color: ${STAT_COLORS[key]}">${t.stats[key]}</span>
                </button>`).join('');
            
            const selectedKey = state.selectedStat;
            const otherKeys = Object.keys(t.stats).filter(k => k !== selectedKey);
            const val = weapon.stats[selectedKey];

            const selectedStatHTML = `
                <div class="flex flex-col items-center justify-center p-4 animate-in zoom-in mb-6">
                    <div class="relative w-40 h-40">
                        <svg viewBox="0 0 36 36" class="circular-chart w-full h-full drop-shadow-2xl">
                            <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" style="stroke: #1e293b; stroke-width: 2;" />
                            <path class="circle" stroke-dasharray="${val}, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" style="stroke: ${STAT_COLORS[selectedKey]}; stroke-width: 3; stroke-linecap: round; filter: drop-shadow(0 0 8px ${STAT_COLORS[selectedKey]});" />
                        </svg>
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <span class="text-4xl font-black text-white drop-shadow-md">${val}</span>
                            <span class="text-[10px] uppercase font-bold tracking-widest" style="color: ${STAT_COLORS[selectedKey]}">${t.stats[selectedKey]}</span>
                        </div>
                    </div>
                </div>`;

            const otherStatsHTML = otherKeys.map(key => {
                const otherVal = weapon.stats[key];
                return `
                    <div class="flex items-center gap-3 p-2">
                        <div class="w-8 h-8 rounded bg-slate-900 border border-slate-700 flex items-center justify-center shrink-0">
                             <i data-lucide="${getIconForStat(key)}" class="w-4 h-4" style="color: ${STAT_COLORS[key]}"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between mb-1">
                                <span class="text-[9px] uppercase font-bold text-slate-400">${t.stats[key]}</span>
                                <span class="text-[9px] font-mono font-bold text-white">${otherVal}</span>
                            </div>
                            <div class="w-full h-1.5 bg-slate-800 rounded-full overflow-hidden">
                                <div class="stat-fill h-full rounded-full" style="--w: ${otherVal}%; background-color: ${STAT_COLORS[key]}; opacity: 0.8;"></div>
                            </div>
                        </div>
                    </div>`;
            }).join('');

            return `
                <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md fade-in p-4">
                    <div class="relative w-full max-w-4xl p-1">
                        <div class="absolute -inset-1 rounded-3xl blur opacity-50 animate-pulse" style="background: ${weapon.color}"></div>
                        <div class="relative bg-slate-950 rounded-2xl shadow-2xl overflow-hidden flex flex-col border" style="border-color: ${weapon.color}">
                            <div class="p-4 text-center border-b relative overflow-hidden" style="border-color: ${weapon.color}30; background: linear-gradient(to right, #020617, ${weapon.color}20, #020617)">
                                <h2 class="text-3xl font-bold text-white font-serif tracking-widest relative z-10">
                                    ${player.name}<span style="color: ${weapon.color}" class="text-xl ml-2">${t.turn}</span>
                                </h2>
                            </div>
                            <div class="flex flex-col md:flex-row">
                                <div class="w-full md:w-1/2 min-h-[300px] bg-black relative">
                                    <img src="https://placehold.co/600x400/0f172a/f59e0b?text=${encodeURIComponent(weapon.name)}&font=playfair-display" class="w-full h-full object-cover opacity-90" style="filter: sepia(30%) hue-rotate(10deg);">
                                    <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/90 to-transparent">
                                        <div class="text-4xl font-bold font-serif tracking-wide mb-1 leading-tight whitespace-normal" style="color: ${weapon.color}">${weapon.name}</div>
                                        <div class="text-xl font-hindi text-white/80 mb-1 whitespace-normal">${weapon.name_hi}</div>
                                        <div class="text-xs text-indigo-100 uppercase font-bold flex items-center gap-2">
                                            <i data-lucide="sparkles" class="w-3 h-3"></i> ${weapon.deity}
                                        </div>
                                    </div>
                                </div>
                                <div class="w-full md:w-1/2 p-6 bg-slate-900 flex flex-col justify-center relative">
                                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-20 pointer-events-none"></div>
                                    <div class="relative z-10">
                                        ${state.phase === 'select' ? `
                                            <div class="mb-6 bg-slate-800/50 p-4 rounded-xl border border-slate-700/50">
                                                <div class="flex items-center gap-2 text-xs font-bold uppercase tracking-widest mb-2 pb-2 border-b border-slate-700" style="color: ${weapon.color}">
                                                    <i data-lucide="scroll-text" class="w-4 h-4"></i> ${t.legend_title}
                                                </div>
                                                <p class="text-slate-300 text-sm italic leading-relaxed font-serif">"${weapon.history || weapon.desc}"</p>
                                                <div class="mt-3 text-[10px] text-red-400 font-bold uppercase flex gap-1"><i data-lucide="shield-alert" class="w-3 h-3"></i> ${t.weak_points}:</div>
                                                <ul class="text-[10px] text-slate-400 list-disc pl-4 mt-1">
                                                    ${weapon.weaknesses.map(w => `<li>${w}</li>`).join('')}
                                                </ul>
                                            </div>
                                            <div class="h-6 flex items-center justify-center mb-4">
                                                <p id="stat-desc" class="text-center text-slate-400 text-[10px] uppercase tracking-widest font-bold">CHOOSE POWER</p>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                ${statButtons}
                                            </div>
                                        ` : `
                                            <div class="zoom-in flex flex-col h-full">
                                                <div class="text-center mb-2">
                                                    <span class="text-xs text-slate-400 uppercase tracking-widest border-b border-slate-700 pb-1">Power Levels</span>
                                                </div>
                                                
                                                <div class="mb-6">
                                                    ${selectedStatHTML}
                                                </div>
                                                
                                                <div class="grid grid-cols-2 gap-x-4 gap-y-2 mb-6">
                                                    ${otherStatsHTML}
                                                </div>

                                                <button onclick="revealResult()" class="mt-auto w-full py-4 text-white rounded-xl font-bold text-xl uppercase tracking-widest shadow-lg hover:scale-[1.02] transition-transform flex items-center justify-center gap-2" style="background: linear-gradient(135deg, ${weapon.color}, #000); border: 1px solid ${weapon.color}">
                                                    <i data-lucide="swords" class="w-6 h-6"></i> ${t.clash}
                                                </button>
                                            </div>
                                        `}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
        }
        
        function renderArsenalModal(player, t) {
             const getAvg = (stats) => Math.round(Object.values(stats).reduce((a,b)=>a+b,0) / 6);
             return `
                <div class="fixed inset-0 z-[70] flex items-center justify-center bg-black/95 backdrop-blur-md fade-in p-4">
                    <div class="relative w-full max-w-6xl h-[90vh] flex flex-col bg-slate-950 rounded-2xl border border-slate-800 shadow-2xl overflow-hidden">
                         <div class="p-4 border-b border-slate-800 flex justify-between items-center bg-slate-900/50">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-lg font-bold text-white shadow-lg">${player.name ? player.name[0] : '?'}</div>
                                <div><h2 class="text-2xl font-bold text-white font-serif tracking-wide">${player.name}'s Arsenal</h2><p class="text-xs text-slate-400 uppercase tracking-widest">Battle History Analysis</p></div>
                            </div>
                            <button onclick="setViewingPlayer(null)" class="p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors"><i data-lucide="x" class="w-6 h-6"></i></button>
                         </div>
                         <div class="flex-1 overflow-y-auto custom-scrollbar p-6 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-fixed">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                ${player.usedWeapons.map((weapon, i) => {
                                    const avgPower = getAvg(weapon.stats);
                                    return `<div class="bg-slate-900/90 backdrop-blur-sm border rounded-xl overflow-hidden flex flex-col shadow-xl transition-all hover:scale-[1.01] hover:shadow-2xl" style="border-color: ${weapon.color}60">
                                        <div class="h-32 bg-black relative group overflow-hidden">
                                            <img src="${getWeaponImageUrl(weapon.name)}" class="w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity duration-500">
                                            <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent"></div>
                                            <div class="absolute top-3 left-3"><span class="px-2 py-1 rounded text-[10px] font-bold bg-black/50 border border-white/10 backdrop-blur text-white">ROUND ${i+1}</span></div>
                                            <div class="absolute bottom-3 left-4 right-4">
                                                <div class="text-xl font-bold font-serif truncate drop-shadow-md" style="color: ${weapon.color}">${weapon.name}</div>
                                                <div class="text-[10px] uppercase tracking-widest text-slate-300 flex items-center gap-1"><i data-lucide="sparkles" class="w-3 h-3" style="color: ${weapon.color}"></i> ${weapon.deity}</div>
                                            </div>
                                        </div>
                                        <div class="p-5 flex-1 flex flex-col gap-5">
                                            <div class="flex items-start gap-4">
                                                <div class="flex flex-col items-center gap-1">
                                                    <div class="relative w-16 h-16">
                                                        <svg viewBox="0 0 36 36" class="circular-chart w-full h-full">
                                                            <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                                            <path class="circle" stroke-dasharray="${avgPower}, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" style="stroke: ${weapon.color};" />
                                                        </svg>
                                                        <div class="absolute inset-0 flex items-center justify-center text-sm font-bold text-white">${avgPower}</div>
                                                    </div>
                                                    <span class="text-[9px] uppercase font-bold text-slate-500">Avg Power</span>
                                                </div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="text-[10px] uppercase font-bold text-red-400 mb-1 flex items-center gap-1"><i data-lucide="shield-alert" class="w-3 h-3"></i> ${t.weak_points}</div>
                                                    <ul class="text-[10px] text-slate-400 space-y-1">${weapon.weaknesses.map(w => `<li class="flex items-start gap-1"><span class="text-red-500/50 mt-0.5">‚Ä¢</span> <span class="line-clamp-1">${w}</span></li>`).join('')}</ul>
                                                </div>
                                            </div>
                                            <div class="space-y-2">${Object.keys(weapon.stats).map(k => `<div class="flex items-center gap-2"><div class="w-16 text-[9px] uppercase font-bold text-slate-500 text-right truncate">${t.stats[k]}</div><div class="flex-1 h-2 bg-slate-800 rounded-full overflow-hidden relative"><div class="stat-fill h-full rounded-full relative z-10" style="--w: ${weapon.stats[k]}%; background-color: ${STAT_COLORS[k]}; box-shadow: 0 0 8px ${STAT_COLORS[k]}60"></div><div class="absolute inset-0 bg-white/5 w-full h-full"></div></div><div class="w-6 text-[10px] font-mono font-bold text-right text-slate-300">${weapon.stats[k]}</div></div>`).join('')}</div>
                                            <div class="mt-auto pt-3 border-t border-slate-800/50"><p class="text-[10px] italic text-slate-400 leading-relaxed line-clamp-2"><span class="text-amber-500 not-italic font-bold mr-1">${t.legend_title}:</span>"${weapon.history}"</p></div>
                                        </div>
                                    </div>`;
                                }).join('')}
                            </div>
                         </div>
                    </div>
                </div>`;
        }

        function renderFinal(container, t) {
            const sorted = [...state.players].sort((a, b) => b.score - a.score);
            const winner = sorted[0];
            container.innerHTML = `
                <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-lg zoom-in">
                     <div class="absolute inset-0 overflow-hidden pointer-events-none">${Array.from({length: 20}).map(() => `<div class="blast-particle bg-amber-500 w-2 h-2 rounded-full" style="left: ${50 + (Math.random() - 0.5)*50}%; top: ${50 + (Math.random() - 0.5)*50}%; --tx: ${(Math.random()-0.5)*500}px; --ty: ${(Math.random()-0.5)*500}px;"></div>`).join('')}</div>
                     <div class="relative z-10 flex flex-col items-center max-w-4xl w-full p-8 text-center h-full overflow-y-auto">
                        <div class="mb-4 animate-bounce"><i data-lucide="crown" class="w-20 h-20 text-yellow-400 drop-shadow-lg"></i></div>
                        <h1 class="text-5xl md:text-7xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-600 mb-2 drop-shadow-xl">${winner.name}</h1>
                        <div class="text-xl text-yellow-200 uppercase tracking-[0.5em] font-bold mb-8">${t.grand_winner}</div>
                        <div class="w-full bg-slate-900/80 border border-yellow-500/30 rounded-2xl p-6 mb-8 shadow-2xl flex-1 overflow-y-auto custom-scrollbar">
                            ${sorted.map((p, idx) => `<div class="flex items-center justify-between p-4 rounded-xl mb-2 ${idx === 0 ? 'bg-yellow-900/30 border border-yellow-500/50' : 'bg-slate-800/50 border border-slate-700'}"><div class="flex items-center gap-4"><span class="text-xl font-bold ${idx === 0 ? 'text-yellow-400' : 'text-slate-500'}">#${idx + 1}</span><span class="text-lg font-bold ${idx === 0 ? 'text-white' : 'text-slate-300'}">${p.name}</span></div><div class="flex items-center gap-4"><div class="text-xl font-mono font-bold text-amber-400">${p.score} ${t.points}</div><button onclick="setViewingPlayer(${p.id})" class="p-2 rounded-full bg-slate-800 hover:bg-indigo-600 text-slate-400 hover:text-white transition-colors" title="${t.view_arsenal}"><i data-lucide="eye" class="w-4 h-4"></i></button></div></div>`).join('')}
                        </div>
                        <button onclick="startWar()" class="px-12 py-4 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white font-bold text-xl uppercase tracking-widest rounded-full shadow-lg hover:scale-105 transition-all">${t.reincarnate}</button>
                     </div>
                </div>`;
        }

        document.getElementById('rules-btn').onclick = () => {
            document.getElementById('modal-container').innerHTML = `<div class="fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-sm fade-in"><div class="relative w-full max-w-lg bg-slate-950 rounded-2xl border border-amber-500/30 shadow-2xl p-6 m-4"><button onclick="document.getElementById('modal-container').innerHTML=''" class="absolute top-4 right-4 text-slate-500 hover:text-white"><i data-lucide="x"></i></button><h2 class="text-2xl font-bold text-amber-400 mb-6 flex items-center gap-2 font-serif"><i data-lucide="book-open"></i> ${getT().instructions}</h2><ul class="space-y-4 text-slate-300 text-sm list-disc pl-5">${getT().rule_list.map(r => `<li>${r}</li>`).join('')}</ul></div></div>`;
            lucide.createIcons();
        };
        document.getElementById('ranking-btn').onclick = () => {
            const sorted = [...state.players].sort((a, b) => b.score - a.score);
            document.getElementById('modal-container').innerHTML = `<div class="fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-sm fade-in"><div class="relative w-full max-w-lg bg-slate-950 rounded-2xl border border-indigo-500/30 shadow-2xl p-6 m-4 max-h-[80vh] flex flex-col"><button onclick="document.getElementById('modal-container').innerHTML=''" class="absolute top-4 right-4 text-slate-500 hover:text-white"><i data-lucide="x"></i></button><h2 class="text-2xl font-bold text-indigo-400 mb-6 flex items-center gap-2 font-serif"><i data-lucide="bar-chart-3"></i> ${getT().current_standings}</h2><div class="overflow-y-auto custom-scrollbar flex-1 pr-2 space-y-3">${sorted.map((p, idx) => `<div class="flex items-center justify-between p-3 rounded-xl border ${idx===0 ? 'bg-indigo-900/20 border-indigo-500' : 'bg-slate-900 border-slate-800'}"><span class="font-bold text-slate-300">#${idx+1} ${p.name}</span><span class="font-mono font-bold text-white">${p.score}</span></div>`).join('')}</div></div></div>`;
            lucide.createIcons();
        };
        document.getElementById('sound-btn').onclick = toggleSound;
        document.getElementById('lang-select').onchange = (e) => { state.lang = e.target.value; render(); };
        render();
    </script>
</body>
</html>
